{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/course/monorepos-v2/10-api-extractor/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Learn TypeScript w/ Mike North","courses":[{"id":"monorepos-v2","name":"TypeScript Monorepos v2","summary":null},{"id":"domain-modeling-with-ts","name":"Domain modeling for humans and AI","summary":"Learn how to model a domain in TypeScript, and how to collaborate with domain experts and agentic AI coding tools to build a software system that solves real problems.\n"},{"id":"fundamentals-v3","name":"TypeScript Fundamentals v3","summary":"Learn everything you need to know in order to confidently and successfully use TypeScript to build a modern JavaScript app."},{"id":"fundamentals-v4","name":"TypeScript Fundamentals v4","summary":"Learn everything you need to know in order to confidently and successfully use TypeScript to build a modern JavaScript app."},{"id":"intermediate-v1","name":"Intermediate TypeScript v1","summary":"Leverage TypeScript's strengths to provide clarity in the face of\ncomplexity, while protecting your codebase and team from it's weaknesses.\n"},{"id":"intermediate-v2","name":"Intermediate TypeScript v2","summary":"Leverage TypeScript's strengths to provide clarity in the face of\ncomplexity, while protecting your codebase and team from it's weaknesses.\n"},{"id":"making-typescript-stick","name":"Making TypeScript Stick","summary":"Tackle a series of challenges designed to reinforce your knowledge and make\nthe important concepts truly \"stick\" in your mind.\n"},{"id":"enterprise-v2","name":"Enterprise-Scale TypeScript v2","summary":"Learn how to manage large TypeScript code bases with confidence and ease.\nIn this course, Mike shares his knowledge from years of experience working\nwith teams who maintain TypeScript projects with hundreds of regular full-time\ncontributors and 100K+ lines of code.\n"},{"id":"full-stack-typescript","name":"Full Stack TypeScript","summary":"Combine TypeScript and GraphQL's type systems to create full-stack, fully\ntype-checked code bases that are shockingly easy to refactor and maintain.\n"}]}},"markdownRemark":{"id":"95bde1b7-2083-5b88-b16f-b7490168eeb8","excerpt":"API Extractor is a tool that operates purely on declaration files. It can generate rollups for different levels of maturity of a given package, and produce a…","html":"<p>API Extractor is a tool that operates purely on <em>declaration files</em>. It can generate rollups for different levels of maturity of a given package, and produce a markdown “api report” that make detecting changes to the API surface of a package easy to detect and review</p>\n<p>Install it</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">sh</div><div class='code-container'><code><div class='line'><span style=\"color: #24292F\">pnpm install -D @microsoft/api-extractor</span></div></code></div></pre>\n<p>Enter the <code>packages/models</code> directory and run</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">sh</div><div class='code-container'><code><div class='line'><span style=\"color: #24292F\">pnpm api-extractor init</span></div></code></div></pre>\n<p>This will create a <code>api-extractor.json</code> file. If you don’t like the vscode or cursor validation errors due to comments in JSON, you can add</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">json</div><div class='code-container'><code><div class='line'><span style=\"color: #0A3069\">\"files.associations\"</span><span style=\"color: #24292F\">: { </span><span style=\"color: #0550AE\">\"*.json\"</span><span style=\"color: #24292F\">: </span><span style=\"color: #0A3069\">\"jsonc\"</span><span style=\"color: #24292F\"> }</span></div></code></div></pre>\n<p>to your <code>settings.json</code> file.</p>\n<p>Find these lines and make the following changes</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">diff</div><div class='code-container'><code><div class='line'><span style=\"color: #82071E\">- \"mainEntryPointFilePath\": \"&lt;projectFolder&gt;/lib/index.d.ts\",</span></div><div class='line'><span style=\"color: #116329\">+ \"mainEntryPointFilePath\": \"&lt;projectFolder&gt;/dist/index.d.ts\",</span></div></code></div></pre>\n<p>Uncomment the lines with the following properties</p>\n<ul>\n<li><code>untrimmedFilePath</code></li>\n<li><code>publicTrimmedFilePath</code></li>\n<li><code>alphaTrimmedFilePath</code></li>\n<li><code>betaTrimmedFilePath</code></li>\n</ul>\n<p>Find the <code>extractorMessageReporting</code> object and insert this into it</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">json</div><div class='code-container'><code><div class='line'><span style=\"color: #0A3069\">\"ae-missing-release-tag\"</span><span style=\"color: #24292F\">: {</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #0550AE\">\"logLevel\"</span><span style=\"color: #24292F\">: </span><span style=\"color: #0A3069\">\"warning\"</span></div><div class='line'><span style=\"color: #24292F\">}</span></div></code></div></pre>\n<p>There are lots of options you can enable <a href=\"https://api-extractor.com/pages/messages/ae-extra-release-tag/\">here</a></p>\n<p>Make an <code>/etc</code> folder in the package</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">sh</div><div class='code-container'><code><div class='line'><span style=\"color: #24292F\">mkdir packages/models/etc</span></div></code></div></pre>\n<p>And run the extractor</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">sh</div><div class='code-container'><code><div class='line'><span style=\"color: #24292F\">pnpm api-extractor run --local --verbose</span></div></code></div></pre>\n<p>This will create a <code>api-report.md</code> file in the <code>/etc</code> folder. Look in the <code>./dist</code> folder and you should see the generated declaration files.</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class='code-container'><code><div class='line'><span style=\"color: undefined\">packages/models/dist/models-alpha.d.ts</span></div><div class='line'><span style=\"color: undefined\">packages/models/dist/models-beta.d.ts</span></div><div class='line'><span style=\"color: undefined\">packages/models/dist/models-public.d.ts</span></div><div class='line'><span style=\"color: undefined\">packages/models/dist/models.d.ts</span></div></code></div></pre>\n<p>Now in your <code>package/models/package.json</code>’s “types” field, point to the “public” declaration file</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">json</div><div class='code-container'><code><div class='line'><span style=\"color: #0A3069\">\"types\"</span><span style=\"color: #24292F\">: </span><span style=\"color: #0A3069\">\"dist/models-public.d.ts\"</span><span style=\"color: #24292F\">,</span></div></code></div></pre>\n<p>Now you could decorate individual exports with <code>@alpha</code> or <code>@beta</code> tags to indicate the maturity of the API, and early adopters can just point to a different declaration file (using tsconfig’s <code>paths</code> field) to get the right type information</p>\n<h2 id=\"documentation\" style=\"position:relative;\"><a href=\"#documentation\" aria-label=\"documentation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Documentation</h2>\n<p>In your API extractor config file, you can specify a <code>apiReport</code> object. This will generate a markdown file that can be used to generate documentation for the API. Uncomment the following line</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">diff</div><div class='code-container'><code><div class='line'><span style=\"color: #24292F\">\"apiJsonFilePath\": \"&lt;projectFolder&gt;/temp/&lt;unscopedPackageName&gt;.api.json\",</span></div></code></div></pre>\n<p>Run the extractor again and you should see a <code>api-report.md</code> file in the <code>/etc</code> folder.</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">sh</div><div class='code-container'><code><div class='line'><span style=\"color: #24292F\">pnpm api-extractor run --local --verbose</span></div></code></div></pre>\n<p>You should now see</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class='code-container'><code><div class='line'><span style=\"color: undefined\">packages/models/temp/models.api.json</span></div></code></div></pre>\n<p>Now run</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">sh</div><div class='code-container'><code><div class='line'><span style=\"color: #24292F\">pnpm api-documenter markdown -i temp -o docs</span></div></code></div></pre>\n<p>And you should have markdown docs in a <code>./docs</code> folder.</p>","tableOfContents":"<ul>\n<li><a href=\"#documentation\">Documentation</a></li>\n</ul>","fields":{"slug":"/course/monorepos-v2/10-api-extractor/"},"frontmatter":{"title":"API Extractor","course":"monorepos-v2","date":"June 12, 2025","description":"We'll learn to use API Extractor to generate a unified API surface for our monorepo"}}},"pageContext":{"slug":"/course/monorepos-v2/10-api-extractor/","title":"API Extractor","course":"monorepos-v2","date":"2025-06-12T09:00:00.000Z","previous":{"fields":{"slug":"/course/monorepos-v2/08-dev-script/"},"frontmatter":{"title":"Dev mode","date":"2025-06-12T09:00:00.000Z","course":"monorepos-v2","isExercise":null}},"next":{"fields":{"slug":"/course/monorepos-v2/09-nx/"},"frontmatter":{"title":"Nx","date":"2025-06-12T09:00:00.000Z","course":"monorepos-v2","isExercise":null}}}},
    "staticQueryHashes": ["2785745750","2841359383"]}